function getSongs(){$.ajax({url:apiUrl.concat("/songs"),success:function(result){var obj=JSON.parse(result),table=$.el("table",{"class":"pure-table pure-table-horizontal"}).append("<thead><tr><th>#</th><th>Album</th><th>Song</th></tr></thead><tbody>"),x=0;$.each(obj,function(i,v){x++,$.each(v,function(index,value){if(value.endsWith(".mp3")){value.endsWith(".jpg")||value.endsWith(".png");var params=x%2==0?{"class":"pure-table-odd"}:{};table.append($.el("tr",params).append($.el("td",{}).append(index)).append($.el("td",{}).append(i)).append($.el("td",{}).append($.el("a",{href:"#",rel:"external",text:value}).html(utilities.getSongName(value)).click(function(){getMp3($(this).attr("text"))}))))}}),$("body").append(table)})}})}function getMp3(filename){nowPlaying!=undefined&&null!=nowPlaying&&nowPlaying.pause(),(nowPlaying=new Audio(apiUrl+"/mp3?file="+filename)).play(),$("title").html(utilities.getSongName(filename))}const apiUrl="";var nowPlaying;$("#pause").click(function(){nowPlaying!=undefined&&null!=nowPlaying&&nowPlaying.pause()}),$("#play").click(function(){nowPlaying!=undefined&&null!=nowPlaying&&nowPlaying.play()}),$.extend({el:function(el,props){var $el=$(document.createElement(el));return $el.attr(props),$el}}),window.addEventListener?window.addEventListener("load",getSongs,!1):window.attachEvent?window.attachEvent("onload",getSongs):window.onload=getSongs;